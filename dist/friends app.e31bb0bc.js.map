{"version":3,"sources":["src/fetch.js","src/createHtmlList.js","src/sort.js","index.js"],"names":["getJson","url","fetch","then","response","ok","json","Error","status","fetchPeople","results","UserProfile","img","firstName","lastName","city","gender","age","date","capitalize","dateOfRegistration","textHtml","String","prototype","charAt","toUpperCase","slice","createHtmlList","list","users","map","e","name","dob","picture","location","sort","render","currentTarget","elements","state","filterGenderBy","value","sortAlphabetically","filterMinAge","minAge","filterMaxAge","maxAge","filterCityBy","filterNameBy","sortPeoplesByName","filterByGender","filterByAge","filterByCity","filterByName","peoples","sliced","runSorting","a","b","toLowerCase","filter","search","RegExp","match","filterForm","document","querySelector","resetButton","html","addEventListener","reset","items","i","type","usersHtml","htmlMain","join","length","innerHTML"],"mappings":";;AGAA;;AACA;;AACA;AHFA,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAAAC,GAAG;AGKnB,AHLmB,IGKfgE,KHJA/D,KGIU,AHJL,CAACD,EGIOiE,CHJR,CAAL,CACK/D,IADL,CGIqB,AHHX,CGGYgE,SHHZ/D,IGGG,CAAuB,GHHlB,EAAI,CGGT,CAAjB;AACA,AHHY,IGGRgE,AFNEzD,IDGUP,OGGD,CHHS,CAACC,CGGP6D,AFLd,CDEQ,EAAiB,KGGH,CAACC,YFLXvD,CEKE,CAAuB,CFLrC,EAAgBC,MEKF,CAAlB,EFLI,EAA0BC,QAA1B,EAAmCC,IAAnC,EAAwCC,MAAxC,EAA+CC,GAA/C,EAAmDC,IAAnD,EAAyD;AEO7D,AFP6D,ADG7C,aAAOd,QAAQ,CAACE,IGK3BH,AHLkB,EAAP,EGIhB,CACU,UAAAyB,IAAI;AAAA,AHJD,SGIK,oCAAeA,IAAf,CAAJ;AAAA,AFPN,CEMR,EAEKzB,IAFL,AFNaS,CEQH,EFRF,GAAWA,GAAX,EEQEyD,IAAI,EAAI;AACVhC,AFRA,ADGI,EGKJA,KFRKxB,CEQC,CAACwD,CHLG,GGKJ,CAAN,AHLc9D,ECHd,GAAiBM,ADGP,CAAUT,QCHM,ADGE,CCHDe,ADGEX,MAAnB,CAAN,GCHa,EAAjB;AESAyD,AFRA,ADGC,EGKDA,CHXJ,CADe,GCINnD,KEQK,CAACwD,EFRX,GAAgBxD,QAAQ,CAACK,EEQzB,CAA4B,OFRZ,CEQhB,CFRA,CEQsC,UAACY,CAAD,EAAO;AACzC,AFRJ,ADLW,AEAZ,CFAP,GEAaK,GDKArB,CCLI,GDKT,ACLY,GDKAA,IAAI,CAACI,CEQRY,ADbJK,CCaD,EAAQiC,CDbA,GCaR,EAAchC,AFRN,EAAZ,ACL8BT,ICa1B,ADbQ,EAAwBS,MAAxB,EAAmC;ACc9C,AFRD,ACN+C,GCY/C,GDZcC,CDMTtB,MAAL,GAAcA,GCNiC,GDM/C,KCNcsB,aAAiC;ACe/C2B,AFRA,ADED,AETgD,ECe/CA,EHNKxD,EERJ8B,CDMItB,GAAL,EEQU,CAACqD,AFRArD,CCPoC,CFS/B,CCFhB,CCNaqB,CFQM,SAAd7B,EGML,CAA4B,ADfmB,CAC9C8B,MCcD,CHNmB,CGMkB,ADfU,UCeTR,CAAD,EAAO;AACxC,AFRJ,ADCmB,AENvBS,EAAAA,KDKSpB,ACLJ,EFOLpB,CEPQ,MFOD,CAAC,GGMK+B,CAAL,EAAQsC,EFRZ,EEQI,CFRsBnD,CEQRmB,GFRlB,GEQI,4BHND,CAAP,CACKlC,IADL,CACU;AGML,AFRD,ADEM,AEPNsC,GCWA,CDXAA,GDKKpB,CDEGX,OCFR,ADEM,GEPQ,EAAE6B,GFOR7B,KEPgB,CAACM,CFOnB,KEPU,CAAgB0B,KAD5B,+CDQ6B,KAAK9B,GAFtC,sDAG2B,KAAKC,SAHhC,cAG6C,KAAKC,QAHlD,mCAIS,KAAKG,GAJd,kCAKS,KAAKF,IALd;AESAqD,AFFH,ADLS,AENNzB,ECaAyB,EDbAzB,OFMqBjC,EGOV,CAAC4D,IHPN,IENY,EAAE/B,MCapB,CAA6B,CDbD,CAACI,KCa7B,EAAsC,WDblB,CCawB,ADbID,KAF5C;ACgBA6B,AHRE,AELN3B,GFIJ,CGSQ2B,AHVe,AEHnB3B,KCaS,ODbG,EAAEL,QAAQ,CAACM,MAAT,CAAgBH,KAH1B;ACiBAL,AFDZf,ADV2B,AEFnBwB,CFED,GGWKT,ADbJS,EDYF,CAACvB,GECW,CAAC8C,IAAD,CAAN,AFDZ,ACZoB,CDYHlD,CCZKoB,QAAQ,CDY9B,ACZ+BQ,GDYD,GCZR,CAAgBL,KAJ1B,GDgB6B;AEEhC,AFDL,ACZIM,GCUA,CDVAA,KDYG,KAAKxB,ECZI,EAAEe,EDYX,CAAY,CAAZ,EAAed,ECZI,CAACV,IAAT,CAAc2B,GDYzB,ECjBC,GDiB8B,KAAKhB,KAAL,CAAW,CAAX,CAAtC;AEGC,AFFJ,ACZOuB,CCDR,AFWA,GCVQA,YAAY,EAAEV,QAAQ,CAACP,IAAT,CAAcU;AANxB,GAAR;ACsBJ,AFDO,ACZHd,EAAAA,EDYSD,ECZL,GCaC4C,ADbErB,KCaX,GAAiB,CFDU,GAAG,KCZF,CAACtB,GDYhBD,CCZe,CAAxB,YDY0B,CAACC,IAAD,EAAU;AEEpC,AFDA,ACZAA,EAAAA,ICaI4C,AFDA3C,ACZA,GAAGsB,ECaE,AFDA,GECGc,AFDArC,IAAI,CAACE,GAAL,CAAS,ACZA,CCaC,ADbAF,CCaCW,GDbF,CAArB,ICaA,AFD8BR,CAAT,EAAY;AAAA,ACXjCH,EAAAA,IAAI,EDYKI,CCZFoB,GDW0B,GACgBrB,CADhB,CACxBC,GCZS,CDWe,ACXdJ,IAAD,EAAOY,KAAK,CAACI,YAAb,EAA2BJ,KAAK,CAACM,YAAjC,CAAlB;ACaA,AFFiC,ACVjClB,EAAAA,IAAI,CCYC,CFDUZ,CCXRqC,ECYEoB,CAAT,EFFiC,EEEnBD,CFDmCzC,CADhB,CAClBf,EECf,ADZmB,CAACY,CCYC,EFFY,CCVd,EAAOY,KAAK,CAACQ,YAAb,CAAnB;ACaI,AFH6B,ACTjCpB,EAAAA,IAAI,ECYI4C,AFFevC,CCVhBqB,EDS0B,EEGpB,CAACmB,AFFmC1C,CEEpC,AFHoB,CEGzB,AFFeE,CEENyC,EFHgB,EEGzB,ADZW,CAAC9C,ICYM,ADZP,EAAOY,KAAK,CAACS,ICYxB,IAAkCuB,IDZvB,CCY4B,ADZ/C,CCYgDC,CAAD,CAAL,CAASC,IAAT,KAAkB,MAAxD,EAAgE;AAC5DF,AFJyB,ACNjCnC,EAAAA,ICUQmC,EFHoBtC,ACPtB,CAACN,ECUM,CAAC6C,CAAD,ADVP,CCUE,ADVR,CCUiB/B,AFJgB,GACgBX,CADhB,CEIzB,AFHoBG,GEGH,EAAjB,EFJyB;AEK5B,AFL4B,ACLpC,CApBM,OD0BkCC,QADJ,GACgBJ,CADhB,CACII,QADJ;AEMhC,AFJG,WAAO,IAAIxB,WAAJ,CACHuB,OAAO,CAAC,OAAD,CADJ,EAEHF,IAAI,CAAC,OAAD,CAFD,EAGHA,IAAI,CAAC,MAAD,CAHD,EAIHG,QAAQ,CAAC,MAAD,CAJL,EAKHnB,MALG,EAMHiB,GAAG,CAAC,KAAD,CANA,EAOHA,GAAG,CAAC,MAAD,CAPA,CAAP;AAQH,GAVW,CAAZ;AEMC,AFMD,ACfJ,IAAIO,KDeOX,ACfX,KDeI;AELH,AFMA,CAdM;ACAP,IAAMqB,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAK,OAAO,EAAI;ACQpC,ADPG,MAAMC,MAAM,sBAAOD,OAAP,CAAZ;;ACSJ,ADRI,MAAME,GCQDpB,MAAT,CAAgBsC,ADRI,GAAG,MCQvB,EAA2B,CDRjBlB,UAAa,CAACC,CAAD,EAAIC,CAAJ,EAAU;ACS7B,ADRI,MCQAiB,EDRGlB,CAAC,CAAC7C,ICQG,GAAG8D,EDRR,CAAYf,MCQK,CAAC9B,GAAV,CAAc,ADRtB,KAA4B6B,CAAC,CAAC9C,GCQRkB,CAAC,KDRK,CAAY6B,WAAZ,EAA/B,EAA0D;ACQhC,ADRkC,WCQ9B7B,CAAC,CAACV,ADRmC,CAAC,CAAR,MCQlC;AAAA,ADR8C,GCQ7D,EAA+BwD,IAA/B,CAAoC,EAApC,CAAf;;AACA,ADRI,MCQAF,EDRGjB,CAAC,CAAC7C,KCQI,CAACiE,GDRP,CAAYlB,ECQf,KAAqB,CAAzB,EAA4B,CDRrB,KAA4BD,CAAC,CAAC9C,SAAF,CAAY+C,WAAZ,EAA/B,EAA0D;ACS1DgB,ADT4D,ICS5DA,QAAQ,CDT2D,CAAP,2CCS5D;AACH,ADV0E;;ACW3EV,ADVI,ECUJA,QAAQ,CAACC,ADVE,CAAP,YCUJ,CAAuB,OAAvB,EAAgCY,SAAhC,GAA4CH,QAA5C;AACH,ADVI,GAJD;;AAKA,MAAIpC,KAAK,CAACG,kBAAN,KAA6B,WAAjC,EAA8C;AAC5Ca,IAAAA,MAAM,CAACpB,IAAP,CAAYqB,UAAZ;AACD;;AACD,MAAIjB,KAAK,CAACG,kBAAN,KAA6B,YAAjC,EAA+C;AAC7Ca,IAAAA,MAAM,CAACpB,IAAP,CAAY,UAACsB,CAAD,EAAIC,CAAJ;AAAA,aAAUF,UAAU,CAACE,CAAD,EAAID,CAAJ,CAApB;AAAA,KAAZ;AACD;;AACD,SAAOF,MAAP;AACH,CAdD;;AAgBA,IAAML,cAAc,GAAG,SAAjBA,cAAiB,CAAAI,OAAO;AAAA,SAC5Bf,KAAK,CAACC,cAAN,IAAwBD,KAAK,CAACC,cAAN,KAAyB,KAAjD,GACIc,OAAO,CAACM,MAAR,CAAe;AAAA,QAAG7C,MAAH,SAAGA,MAAH;AAAA,WAAgBA,MAAM,KAAKwB,KAAK,CAACC,cAAjC;AAAA,GAAf,CADJ,GAEIc,OAHwB;AAAA,CAA9B;;AAMA,IAAMH,WAAW,GAAG,SAAdA,WAAc,CAACxB,IAAD,EAAOiB,MAAP,EAAeE,MAAf,EAA0B;AAC1CF,EAAAA,MAAM,GAAGjB,IAAI,GAAGA,IAAI,CAACiC,MAAL,CAAY;AAAA,QAAE5C,GAAF,SAAEA,GAAF;AAAA,WAAWA,GAAG,IAAI4B,MAAlB;AAAA,GAAZ,CAAV,GAAiD,EAAvD;AACAE,EAAAA,MAAM,GAAGnB,IAAI,GAAGA,IAAI,CAACiC,MAAL,CAAY;AAAA,QAAE5C,GAAF,SAAEA,GAAF;AAAA,WAAWA,GAAG,IAAI8B,MAAlB;AAAA,GAAZ,CAAV,GAAiD,EAAvD;AACA,SAAOnB,IAAP;AACH,CAJD;;AAMA,IAAMyB,YAAY,GAAG,SAAfA,YAAe,CAACzB,IAAD,EAAOb,IAAP,EAAgB;AACjC,MAAI+C,MAAM,GAAG,IAAIC,MAAJ,CAAWhD,IAAX,EAAiB,IAAjB,CAAb;AACAa,EAAAA,IAAI,GAAGA,IAAI,CAACiC,MAAL,CAAY;AAAA,QAAE9C,IAAF,SAAEA,IAAF;AAAA,WAAYA,IAAI,CAACiD,KAAL,CAAWF,MAAX,KAAsB/C,IAAI,CAACiD,KAAL,CAAWF,MAAX,CAAlC;AAAA,GAAZ,CAAP;AACA,SAAOlC,IAAP;AACH,CAJD;;AAMA,IAAM0B,YAAY,GAAG,SAAfA,YAAe,CAAC1B,IAAD,EAAOI,IAAP,EAAgB;AACjC,MAAI8B,MAAM,GAAG,IAAIC,MAAJ,CAAW/B,IAAX,EAAiB,IAAjB,CAAb;AACAJ,EAAAA,IAAI,GAAGA,IAAI,CAACiC,MAAL,CAAY,UAAC9B,CAAD;AAAA,WAAOA,CAAC,CAAClB,SAAF,CAAY+C,WAAZ,GAA0BI,KAA1B,CAAgCF,MAAhC,KAA2C/B,CAAC,CAACjB,QAAF,CAAW8C,WAAX,GAAyBI,KAAzB,CAA+BF,MAA/B,CAAlD;AAAA,GAAZ,CAAP;AACA,SAAOlC,IAAP;AACH,CAJD","file":"friends app.e31bb0bc.js","sourceRoot":"..","sourcesContent":["const getJson = url => \r\n    fetch(url)\r\n        .then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n            throw new Error(response.status);\r\n        });\r\n\r\nexport const fetchPeople = () => \r\n    getJson('https://randomuser.me/api/?results=25&nat=fr')\r\n        .then(({results}) => results);\r\n\r\n\r\n\r\n","class UserProfile {\r\n    constructor(img,firstName,lastName,city,gender,age,date) {\r\n        this.img = img;\r\n        this.firstName = firstName.capitalize();\r\n        this.lastName = lastName.capitalize();\r\n        this.city = city.capitalize();\r\n        this.gender = gender;\r\n        this.age = age;\r\n        this.dateOfRegistration = date;\r\n        this.textHtml = \r\n        `<li class='userLi'>\r\n            <p> <img class='photo' src=${this.img}> </p>\r\n            <h2 class='userName'>${this.firstName} ${this.lastName}</h2>\r\n            <p>${this.age}</p>\r\n            <p>${this.city}</p>           \r\n        </li>`;\r\n    }\r\n}\r\n\r\nString.prototype.capitalize = function() {\r\n    return this.charAt(0).toUpperCase() + this.slice(1);\r\n}\r\n\r\n\r\nexport const createHtmlList = (list) => {\r\n    let users = list.map(function(e) {\r\n        let {name, gender, dob, picture, location} = e;\r\n        return new UserProfile(\r\n            picture['large'], \r\n            name[\"first\"],\r\n            name[\"last\"],\r\n            location[\"city\"],\r\n            gender, \r\n            dob[\"age\"],\r\n            dob[\"date\"])\r\n    });\r\n    \r\n    return users;  \r\n}\r\n\r\n\r\n\r\n  ","export const sort = ({currentTarget}, list, render) => {\r\n    let {elements} = currentTarget;\r\n    \r\n    state = {\r\n        filterGenderBy: elements.gender.value,\r\n        sortAlphabetically: elements.sortAlphabetically.value,\r\n        filterMinAge: elements.minAge.value,\r\n        filterMaxAge: elements.maxAge.value,\r\n        filterCityBy: elements.city.value,\r\n        filterNameBy: elements.name.value\r\n    };\r\n     \r\n    list = sortPeoplesByName(list);\r\n    list = filterByGender(list);\r\n    list = filterByAge(list, state.filterMinAge, state.filterMaxAge);\r\n    list = filterByCity(list, state.filterCityBy);\r\n    list = filterByName(list, state.filterNameBy);\r\n\r\n    \r\n    render(list);\r\n} \r\n\r\nlet state;\r\n\r\nconst sortPeoplesByName = peoples => {    \r\n    const sliced = [...peoples];  \r\n    const runSorting = (a, b) => {\r\n        if(a.firstName.toLowerCase() < b.firstName.toLowerCase()) { return -1; }\r\n        if(a.firstName.toLowerCase() > b.firstName.toLowerCase()) { return 1; }\r\n        return 0;\r\n    }\r\n    if (state.sortAlphabetically === 'ascending') {\r\n      sliced.sort(runSorting);\r\n    } \r\n    if (state.sortAlphabetically === 'descending') {\r\n      sliced.sort((a, b) => runSorting(b, a));\r\n    }\r\n    return sliced;  \r\n};\r\n\r\nconst filterByGender = peoples =>\r\n  state.filterGenderBy && state.filterGenderBy !== 'all'\r\n    ? peoples.filter(({ gender }) => gender === state.filterGenderBy)\r\n    : peoples;\r\n    \r\n\r\nconst filterByAge = (list, minAge, maxAge) => {\r\n    minAge ? list = list.filter(({age}) => age >= minAge): {}; \r\n    maxAge ? list = list.filter(({age}) => age <= maxAge): {};\r\n    return list;\r\n};\r\n\r\nconst filterByCity = (list, city) => {\r\n    let search = new RegExp(city, \"ig\");\r\n    list = list.filter(({city}) => city.match(search) || city.match(search));\r\n    return list;\r\n};\r\n\r\nconst filterByName = (list, name) => {\r\n    let search = new RegExp(name, \"ig\");\r\n    list = list.filter((e) => e.firstName.toLowerCase().match(search) || e.lastName.toLowerCase().match(search));\r\n    return list;\r\n};","import { fetchPeople } from './src/fetch.js';\r\nimport { createHtmlList } from './src/createHtmlList';\r\nimport { sort } from './src/sort.js';\r\n\r\n\r\nlet filterForm = document.querySelector('form');\r\nlet resetButton = document.querySelector('.button');\r\n\r\nfetchPeople()\r\n    .then(list => createHtmlList(list))\r\n    .then(html => {\r\n        render(html);\r\n        filterForm.addEventListener('change', (e) => { \r\n            sort(e, html, render);\r\n        });\r\n        filterForm.addEventListener('keyup', (e) => { \r\n            sort(e, html, render);\r\n        });\r\n        resetButton.addEventListener('click', () => {  \r\n            reset();\r\n            render(html);\r\n        });\r\n        \r\n    });\r\n           \r\nfunction reset() {\r\n    let items = filterForm.elements;\r\n    for (let i in items) {\r\n        if (items[i].type === 'select-one' || items[i].type === 'text') {\r\n            items[i].value = \"\";\r\n        }\r\n    };\r\n};\r\n\r\nfunction render(usersHtml) {\r\n    let htmlMain = usersHtml.map(e => e.textHtml).join('');\r\n    if (usersHtml.length === 0) {\r\n        htmlMain = `<div class=\"emptyList\">Not found</div>`;\r\n    }\r\n    document.querySelector('.main').innerHTML = htmlMain;\r\n}\r\n\r\n"]}